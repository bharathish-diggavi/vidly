{"version":3,"sources":["services/LoggingService.js","services/HttpService.js","services/authService.js","components/common/FormFeilds.jsx","components/common/Form.jsx","components/LoginForm.jsx","services/movieService.js","components/Like.jsx","components/common/TableBody.jsx","components/common/TableHeader.jsx","components/common/Table.jsx","components/MoviesTable.jsx","components/Pagination.jsx","utils/paginate.js","components/Sort.jsx","services/genreService.js","components/Movies.jsx","components/NotFound.jsx","components/Customers.jsx","components/Rentals.jsx","components/NavBar.jsx","components/MovieForm.jsx","services/userService.js","components/RegistrationForm.jsx","components/Logout.jsx","components/common/ProtectedRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["init","logError","error","console","log","axios","defaults","baseURL","process","interceptors","response","use","status","toast","logger","Promise","reject","get","post","put","patch","delete","setJwtToken","jwt","headers","common","ENDPOINT","TOKEN_KEY","email","password","a","http","data","localStorage","setItem","removeItem","getJwtToken","getItem","login","logout","getCurrentUser","token","jwtDecode","loginWithJwt","Input","name","label","rest","className","htmlFor","Select","options","value","map","o","_id","SearchBox","onChange","e","currentTarget","Form","validate","Joi","state","schema","abortEarly","allowUnknown","errors","details","forEach","d","path","message","Object","keys","validateProperty","obj","_schema","_","handleChange","input","errorMessage","setState","handleSubmit","preventDefault","doSubmit","autoFocus","type","this","disabled","Component","LoginForm","username","string","required","auth","props","location","window","from","to","onSubmit","renderInputFiels","renderSubmitButton","apiEndPoint","movieUrl","id","saveMovie","movie","body","Like","isLiked","onToggleLike","aria-hidden","onClick","style","cursor","TableBody","columns","generateKey","key","column","item","content","raiseSort","sortedColumn","order","TableHeader","sortColum","onSort","renderSortIcon","Table","tableData","MovieTable","movies","onLike","onDelete","title","liked","isAdmin","Pagination","pageSize","totalCount","onPageClick","currentPage","numberOfPages","Math","ceil","aria-label","range","n","paginate","items","pageNumber","startIndex","endIndex","slice","Sort","selectedItem","textProperty","valueProperty","onItemSelect","defaultProps","getGenres","Movies","user","useState","setMovies","setCurrentPage","genres","setGenres","selectedGenre","setSelectedGenre","sortColumn","setSortColumn","searchQuery","setSearchQuery","useEffect","handleDelete","moviesAfter","originalMovies","filter","m","filteredMovies","genre","filteredUsingSearchQuery","orderBy","toLowerCase","includes","movieCount","length","moviesToDisplay","getPageData","padding","margin","placeholder","query","MoviesTable","sort","NotFound","Customers","Rentals","NavBar","data-toggle","data-target","aria-controls","aria-expanded","Movieform","genreId","numberInStock","dailyRentalRate","number","min","max","history","replace","populateGenres","populateMovies","movieId","match","params","mapToViewModel","renderSelect","RegistrationForm","Logout","ProtectedRoute","component","render","pathname","App","setUser","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","REACT_APP_NAME","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5e19351.chunk.js","sourcesContent":["function init() {}\r\n\r\nfunction logError(error) {\r\n  console.log(error);\r\n}\r\n\r\nexport default {\r\n  init,\r\n  logError,\r\n};\r\n","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport logger from \"./LoggingService\";\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.response.use(null, (error) => {\r\n  const expectedError =\r\n    error.response &&\r\n    error.response.status >= 400 &&\r\n    error.response.status < 500;\r\n  if (!expectedError) {\r\n    console.log(\"interceptor called\", error);\r\n    toast.error(\"something went wrong\");\r\n    logger.logError(error);\r\n    return Promise.reject(error);\r\n  }\r\n  return Promise.reject(error);\r\n});\r\n\r\nfunction setJwtToken(jwt) {\r\n  axios.defaults.headers.common[\"x-auth-token\"] = jwt;\r\n}\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  patch: axios.patch,\r\n  delete: axios.delete,\r\n  setJwtToken,\r\n};\r\n","import jwtDecode from \"jwt-decode\";\nimport http from \"./HttpService\";\n\nconst ENDPOINT = \"/auth\";\nconst TOKEN_KEY = \"token\";\n\nhttp.setJwtToken(getJwtToken());\n\nasync function login(email, password) {\n  const { data: jwt } = await http.post(ENDPOINT, { email, password });\n  localStorage.setItem(TOKEN_KEY, jwt);\n}\n\nfunction loginWithJwt(jwt) {\n  localStorage.setItem(TOKEN_KEY, jwt);\n}\n\nasync function logout() {\n  localStorage.removeItem(TOKEN_KEY);\n}\n\nfunction getCurrentUser() {\n  try {\n    const token = localStorage.getItem(TOKEN_KEY);\n    return jwtDecode(token);\n  } catch (error) {\n    return null;\n  }\n}\n\nfunction getJwtToken() {\n  return localStorage.getItem(TOKEN_KEY);\n}\n\nexport default { login, logout, getCurrentUser, loginWithJwt, getJwtToken };\n","import React from \"react\";\r\n\r\nexport const Input = ({ name, label, error, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <input {...rest} name={name} className=\"form-control\" />\r\n      <div className=\"aler alert-danger\">{error}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Select = ({ name, label, options, error, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <select {...rest} name={name} className=\"form-control\">\r\n        <option value=\"\"></option>\r\n        {options.map((o) => (\r\n          <option key={o._id} value={o._id}>\r\n            {o.name}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <div className=\"aler alert-danger\">{error}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SearchBox = ({ value, onChange, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <input\r\n        className=\"form-control\"\r\n        value={value}\r\n        onChange={(e) => onChange(e.currentTarget.value)}\r\n        {...rest}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import Joi from \"joi-browser\";\r\nimport React, { Component, setState } from \"react\";\r\nimport { Input, Select } from \"./FormFeilds\";\r\nimport _ from \"lodash\";\r\n\r\nclass Form extends Component {\r\n  //Validating etire form\r\n  validate = () => {\r\n    const options = {\r\n      abortEarly: false,\r\n      allowUnknown: true,\r\n    };\r\n    const { error } = Joi.validate(this.state.data, this.schema, options);\r\n    if (!error) return null;\r\n    const errors = {};\r\n    error.details.forEach((d) => (errors[d.path[0]] = d.message));\r\n    return Object.keys(errors) === 0 ? null : errors;\r\n  };\r\n\r\n  //validating the field\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const _schema = { [name]: _.get(this.schema, name) };\r\n    const { error } = Joi.validate(obj, _schema);\r\n    return !error ? null : error.details[0].message;\r\n  };\r\n\r\n  //handle change of a field\r\n  handleChange = ({ currentTarget: input }) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMessage = this.validateProperty(input);\r\n    if (errorMessage) errors[input.name] = errorMessage;\r\n    else delete errors[input.name];\r\n    const data = { ...this.state.data };\r\n    data[input.name] = input.value;\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  //Handle the submit\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const errors = this.validate(this.state.data);\r\n    this.setState(errors || {});\r\n    if (errors) {\r\n      return;\r\n    }\r\n    this.doSubmit();\r\n  };\r\n\r\n  //Render input fields\r\n  renderInputFiels(name, label, autoFocus = false, type = \"text\") {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Input\r\n        name={name}\r\n        type={type}\r\n        onChange={this.handleChange}\r\n        label={label}\r\n        value={_.get(data, name)}\r\n        autoFocus={autoFocus}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  }\r\n\r\n  //Render input fields\r\n  renderSelect(name, label, options) {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Select\r\n        name={name}\r\n        onChange={this.handleChange}\r\n        label={label}\r\n        value={data[name]}\r\n        error={errors[name]}\r\n        options={options}\r\n      />\r\n    );\r\n  }\r\n\r\n  //Rnder Submit button\r\n  renderSubmitButton(label) {\r\n    return (\r\n      <button\r\n        disabled={this.validate(this.state.data)}\r\n        className=\"btn btn-primary\"\r\n      >\r\n        {label}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport auth from \"../services/authService\";\r\nimport Form from \"./common/Form\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nclass LoginForm extends Form {\r\n  state = {\r\n    data: { username: \"\", password: \"\" },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    username: Joi.string().required().label(\"Username\"),\r\n    password: Joi.string().required().label(\"Password\"),\r\n  };\r\n\r\n  async doSubmit() {\r\n    try {\r\n      const { data } = this.state;\r\n      await auth.login(data.username, data.password);\r\n      const { state } = this.props.location;\r\n      window.location = state ? state.from : \"/\";\r\n    } catch (ex) {\r\n      console.log(\"inside ex\");\r\n      if (ex.response && ex.response.status === 400) {\r\n        console.log(ex.response);\r\n        const errors = { ...this.state.errors };\r\n        errors.username = ex.response.data;\r\n        this.setState({ errors });\r\n        toast.error(ex.response.data);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (auth.getCurrentUser()) return <Redirect to=\"/\" />;\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <h1>Login</h1>\r\n          {this.renderInputFiels(\"username\", \"Username\", true)}\r\n          {this.renderInputFiels(\"password\", \"Password\", false, \"password\")}\r\n          {this.renderSubmitButton(\"Login\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import http from \"./HttpService\";\n\nconst apiEndPoint = \"/movies\";\n\nfunction movieUrl(id) {\n  return `${apiEndPoint}/${id}`;\n}\nexport function getMovies() {\n  return http.get(apiEndPoint);\n}\n\nexport function getMovie(id) {\n  return http.get(movieUrl(id));\n}\n\nexport async function saveMovie(movie) {\n  if (movie._id) {\n    const body = { ...movie };\n    delete body._id;\n    http.put(movieUrl(movie._id), body);\n  } else {\n    http.post(apiEndPoint, movie);\n  }\n}\n\nexport function deleteMovie(id) {\n  return http.delete(movieUrl(id));\n}\n","const Like = ({ isLiked, onToggleLike }) => {\r\n  return (\r\n    <i\r\n      className={\"fa fa-heart\" + (isLiked ? \"\" : \"-o\")}\r\n      aria-hidden=\"true\"\r\n      onClick={onToggleLike}\r\n      style={{ cursor: \"pointer\" }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","import _ from \"lodash\";\r\n// movies : Table body\r\n//onLike\r\n//onDelte\r\nconst TableBody = ({ data, columns }) => {\r\n  // renderCell = (item, column) => {\r\n  //     if()\r\n  // }\r\n\r\n  const generateKey = (key, column) => {\r\n    return key._id + (column.path || column.key);\r\n  };\r\n  return (\r\n    <tbody>\r\n      {data.map((item) => (\r\n        <tr key={item._id}>\r\n          {columns.map((column) =>\r\n            column.content ? (\r\n              <td key={generateKey(item, column)}>{column.content(item)}</td>\r\n            ) : (\r\n              <td key={generateKey(item, column)}>\r\n                {_.get(item, column.path)}\r\n              </td>\r\n            )\r\n          )}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n};\r\n\r\nexport default TableBody;\r\n","import React from \"react\";\r\n\r\nconst TableHeader = ({ columns, sortColum, onSort }) => {\r\n  const renderSortIcon = (column) => {\r\n    if (column.path !== sortColum.path) return null;\r\n    return sortColum.order === \"asc\" ? (\r\n      <i className=\"fa fa-sort-asc\" aria-hidden=\"true\"></i>\r\n    ) : (\r\n      <i className=\"fa fa-sort-desc\" aria-hidden=\"true\"></i>\r\n    );\r\n  };\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        {columns.map((column) => (\r\n          <th\r\n            style={{ cursor: \"pointer\" }}\r\n            key={column.path || column.key}\r\n            onClick={() => onSort(raiseSort(sortColum, column.path))}\r\n          >\r\n            {column.label} {renderSortIcon(column)}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n\r\nconst raiseSort = (sortedColumn, path) => {\r\n  return {\r\n    path,\r\n    order: sortedColumn && sortedColumn.order === \"desc\" ? \"asc\" : \"desc\",\r\n  };\r\n};\r\n\r\nexport default TableHeader;\r\n","import React from \"react\";\r\nimport TableBody from \"./TableBody\";\r\nimport TableHeader from \"./TableHeader\";\r\n\r\nconst Table = ({ columns, sortedColumn, onSort, tableData }) => {\r\n  return (\r\n    <>\r\n      <table className=\"table\">\r\n        <TableHeader\r\n          columns={columns}\r\n          sortColum={sortedColumn}\r\n          onSort={onSort}\r\n        />\r\n        <TableBody data={tableData} columns={columns} />\r\n      </table>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import { Link } from \"react-router-dom\";\r\nimport Like from \"./Like\";\r\nimport Table from \"./common/Table\";\r\nimport auth from \"../services/authService\";\r\nconst MovieTable = ({ movies, onLike, onDelete, onSort, sortedColumn }) => {\r\n  const columns = [\r\n    {\r\n      path: \"title\",\r\n      label: \"Title\",\r\n      content: (movie) => {\r\n        return auth.getCurrentUser() ? (\r\n          <Link to={`/movies/${movie._id}`} data={movie}>\r\n            {movie.title}\r\n          </Link>\r\n        ) : (\r\n          movie.title\r\n        );\r\n      },\r\n    },\r\n    { path: \"genre.name\", label: \"Genre\" },\r\n    { path: \"numberInStock\", label: \"Stock\" },\r\n    { path: \"dailyRentalRate\", label: \"Rate\" },\r\n    {\r\n      key: \"like\",\r\n      content: (movie) =>\r\n        auth.getCurrentUser() && (\r\n          <Like isLiked={movie.liked} onToggleLike={() => onLike(movie)} />\r\n        ),\r\n    },\r\n    {\r\n      key: \"delete\",\r\n      content: (movie) =>\r\n        auth.getCurrentUser() &&\r\n        auth.getCurrentUser().isAdmin && (\r\n          <button className=\"btn btn-danger\" onClick={() => onDelete(movie)}>\r\n            Delete\r\n          </button>\r\n        ),\r\n    },\r\n  ];\r\n  return (\r\n    <Table\r\n      columns={columns}\r\n      sortedColumn={sortedColumn}\r\n      onSort={onSort}\r\n      tableData={movies}\r\n    />\r\n    // <table className=\"table\">\r\n    //   <TableHeader columns={columns} sortColum={sortedColumn} onSort={onSort} />\r\n    //   <TableBody data={movies} columns={columns} />\r\n    // </table>\r\n  );\r\n};\r\n\r\nexport default MovieTable;\r\n","import _ from \"lodash\";\r\nimport { number, func } from \"prop-types\";\r\n\r\nconst Pagination = ({ pageSize, totalCount, onPageClick, currentPage }) => {\r\n  const numberOfPages = Math.ceil(totalCount / pageSize);\r\n  return numberOfPages === 0 ? null : (\r\n    <>\r\n      <div>\r\n        <nav aria-label=\"Page navigation example\">\r\n          <ul className=\"pagination\">\r\n            {_.range(1, numberOfPages + 1).map((n) => (\r\n              <li\r\n                key={n}\r\n                className={\"page-item \" + (n === currentPage ? \"active\" : \"\")}\r\n              >\r\n                <a className=\"page-link\" onClick={() => onPageClick(n)}>\r\n                  {n}\r\n                </a>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nPagination.propTypes = {\r\n  pageSize: number.isRequired,\r\n  totalCount: number.isRequired,\r\n  onPageClick: func.isRequired,\r\n  currentPage: number.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import _ from \"lodash\";\r\nexport const paginate = (items, pageSize, pageNumber) => {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  const endIndex = pageNumber * pageSize;\r\n  return _.slice(items, startIndex, endIndex);\r\n};\r\n","import { array, func, string } from \"prop-types\";\r\n\r\nconst Sort = ({\r\n  items,\r\n  selectedItem,\r\n  textProperty,\r\n  valueProperty,\r\n  onItemSelect,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <ul className=\"list-group\">\r\n        {items.map((item) => (\r\n          <li\r\n            key={item[valueProperty] ? item[valueProperty] : \"default\"}\r\n            className={\r\n              \"list-group-item \" +\r\n              (selectedItem && selectedItem._id === item._id ? \"active\" : \"\")\r\n            }\r\n            onClick={() => onItemSelect(item)}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            {item[textProperty]}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\nSort.defaultProps = {\r\n  textProperty: \"name\",\r\n  valueProperty: \"_id\",\r\n};\r\n\r\nSort.propTypes = {\r\n  items: array,\r\n  textProperty: string,\r\n  valueProperty: string,\r\n  filterGenre: func,\r\n};\r\nexport default Sort;\r\n","import http from \"./HttpService\";\n\nconst ENDPOINT = \"/genres\";\n\nexport function getGenres() {\n  return http.get(ENDPOINT);\n}\n\nexport function getGenre(id) {\n  return http.get(ENDPOINT + \"/\" + id);\n}\n","import { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getMovies, deleteMovie } from \"../services/movieService\";\r\nimport { useState } from \"react\";\r\nimport MoviesTable from \"./MoviesTable\";\r\nimport Pagination from \"./Pagination\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport Sort from \"./Sort\";\r\nimport { getGenres } from \"../services/genreService\";\r\nimport _ from \"lodash\";\r\n// import './css/movies.css'\r\nimport { SearchBox } from \"./common/FormFeilds\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Movies = ({ user }) => {\r\n  //states\r\n  const [movies, setMovies] = useState();\r\n  const [pageSize, setPageSize] = useState(4);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [genres, setGenres] = useState([]);\r\n  const [selectedGenre, setSelectedGenre] = useState(\"\");\r\n  const [sortColumn, setSortColumn] = useState({ path: \"title\", order: \"asc\" });\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  //component mount\r\n  useEffect(async () => {\r\n    const { data: genres } = await getGenres([]);\r\n    const { data: movies } = await getMovies([]);\r\n    setGenres([{ name: \"All Genres\" }, ...genres]);\r\n    setMovies(movies);\r\n  }, []);\r\n\r\n  //handle delete\r\n  const handleDelete = async (movie) => {\r\n    const originalMovies = movies;\r\n    const moviesAfter = originalMovies.filter((m) => m._id !== movie._id);\r\n    setMovies(moviesAfter);\r\n    try {\r\n      console.log(movie);\r\n      const data = await deleteMovie(movie._id);\r\n      console.log(data);\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 404) {\r\n        toast.error(\"Couldn't find movie. It may have been deleted already\");\r\n      }\r\n      setMovies(originalMovies);\r\n    }\r\n  };\r\n\r\n  //handle like\r\n  const handleLike = (movie) => {\r\n    setMovies(\r\n      [...movies].map((m) =>\r\n        m._id === movie._id ? { ...m, liked: !movie.liked } : m\r\n      )\r\n    );\r\n  };\r\n\r\n  //handeling page click\r\n  const handlePageClick = (pageNumber) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  //handling filter\r\n  const handleGenreSelect = (genre) => {\r\n    setSelectedGenre(genre);\r\n    setCurrentPage(1);\r\n    setSearchQuery(\"\");\r\n  };\r\n\r\n  //handeling sort\r\n  const handleSort = (sort) => {\r\n    setSortColumn(sort);\r\n  };\r\n\r\n  const getPageData = () => {\r\n    const filteredMovies =\r\n      selectedGenre && selectedGenre._id\r\n        ? movies.filter((movie) => movie.genre._id === selectedGenre._id)\r\n        : movies;\r\n\r\n    const sorted = _.orderBy(\r\n      filteredMovies,\r\n      [sortColumn.path],\r\n      [sortColumn.order]\r\n    );\r\n    const filteredUsingSearchQuery = sorted.filter((movie) =>\r\n      movie.title.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n\r\n    return {\r\n      movieCount: filteredUsingSearchQuery.length,\r\n      moviesToDisplay: paginate(\r\n        filteredUsingSearchQuery,\r\n        pageSize,\r\n        currentPage\r\n      ),\r\n    };\r\n  };\r\n\r\n  //handleling search\r\n  const handleSearch = (query) => {\r\n    setSelectedGenre(\"\");\r\n    setSearchQuery(query);\r\n    setCurrentPage(1);\r\n  };\r\n  const { movieCount, moviesToDisplay } = getPageData();\r\n  return (\r\n    <>\r\n      <div className=\"movies__container row\">\r\n        <div className=\"sidebar__container col-3\">\r\n          <Sort\r\n            items={genres}\r\n            selectedItem={selectedGenre}\r\n            onItemSelect={handleGenreSelect}\r\n          />\r\n        </div>\r\n        <div className=\"movies__Table__container col\">\r\n          <h2>There are {movieCount} available</h2>\r\n          {user && (\r\n            <Link to=\"/movies/new\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                style={{ padding: \".5em 2em\", margin: \".5em\" }}\r\n              >\r\n                New\r\n              </button>\r\n            </Link>\r\n          )}\r\n          <SearchBox\r\n            value={searchQuery}\r\n            placeholder=\"Search...\"\r\n            onChange={handleSearch}\r\n          />\r\n          <MoviesTable\r\n            movies={moviesToDisplay}\r\n            onLike={handleLike}\r\n            onDelete={handleDelete}\r\n            onSort={handleSort}\r\n            sortedColumn={sortColumn}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Pagination\r\n        totalCount={movieCount}\r\n        pageSize={pageSize}\r\n        onPageClick={handlePageClick}\r\n        currentPage={currentPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div>\r\n      <h1>Not Found</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n\r\nconst Customers = () => {\r\n  return (\r\n    <div>\r\n      <h1>Customers</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Customers;\r\n","import React from \"react\";\r\n\r\nconst Rentals = () => {\r\n  return (\r\n    <div>\r\n      <h1>Rentals</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rentals;\r\n","import React from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nconst NavBar = ({ user }) => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        Vidly\r\n      </Link>\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarNavAltMarkup\"\r\n        aria-controls=\"navbarNavAltMarkup\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n        <div className=\"navbar-nav\">\r\n          {user && (\r\n            <>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/movies\">\r\n                Movies\r\n              </NavLink>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/customers\">\r\n                Customers\r\n              </NavLink>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/rentals\">\r\n                Rentals\r\n              </NavLink>\r\n            </>\r\n          )}\r\n          {!user && (\r\n            <>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/login\">\r\n                Login\r\n              </NavLink>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/register\">\r\n                Register\r\n              </NavLink>\r\n            </>\r\n          )}\r\n          {user && (\r\n            <>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/profile\">\r\n                {user.name}\r\n              </NavLink>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/logout\">\r\n                Logout\r\n              </NavLink>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import { getMovie, saveMovie } from \"../services/movieService\";\r\nimport { getGenres } from \"../services/genreService\";\r\nimport Joi from \"joi-browser\";\r\nimport Form from \"./common/Form\";\r\n\r\nclass Movieform extends Form {\r\n  state = {\r\n    data: {\r\n      title: \"\",\r\n      genreId: \"\",\r\n      numberInStock: \"\",\r\n      dailyRentalRate: \"\",\r\n    },\r\n    genres: [],\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    _id: Joi.string(),\r\n    title: Joi.string().required().label(\"Title\"),\r\n    genreId: Joi.string().required().label(\"Genre\"),\r\n    numberInStock: Joi.number()\r\n      .required()\r\n      .min(0)\r\n      .max(100)\r\n      .label(\"Number In Stock\"),\r\n    dailyRentalRate: Joi.number()\r\n      .required()\r\n      .min(0)\r\n      .max(10)\r\n      .label(\"Daily Rental Rate\"),\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await this.populateGenres();\r\n    await this.populateMovies();\r\n  }\r\n\r\n  async populateMovies() {\r\n    try {\r\n      const movieId = this.props.match.params.id;\r\n      if (movieId && movieId.toLowerCase() === \"new\") return;\r\n      const { data: movie } = await getMovie(movieId);\r\n      this.setState({ data: this.mapToViewModel(movie) });\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 404)\r\n        this.props.history.replace(\"/not-found\");\r\n    }\r\n  }\r\n  async populateGenres() {\r\n    const { data: genres } = await getGenres();\r\n    this.setState({ genres });\r\n  }\r\n\r\n  mapToViewModel({ _id, title, genre, numberInStock, dailyRentalRate }) {\r\n    return {\r\n      _id,\r\n      title,\r\n      genreId: genre._id,\r\n      numberInStock,\r\n      dailyRentalRate,\r\n    };\r\n  }\r\n\r\n  doSubmit = async () => {\r\n    await saveMovie(this.state.data);\r\n    this.props.history.replace(\"/movies\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <h1>Movie</h1>\r\n          {this.renderInputFiels(\"title\", \"Title\", true)}\r\n          {this.renderSelect(\"genreId\", \"Genere\", this.state.genres)}\r\n          {this.renderInputFiels(\"numberInStock\", \"Number In Stock\")}\r\n          {this.renderInputFiels(\"dailyRentalRate\", \"Rate\")}\r\n          {this.renderSubmitButton(\"Save\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movieform;\r\n","import http from \"./HttpService\";\n\nconst ENDPOINT = \"/users\";\n\nexport function getUsers() {\n  return http.get(ENDPOINT);\n}\n\nexport function getUser(id) {\n  return http.get(ENDPOINT + \"/\" + id);\n}\n\nexport function register(user) {\n  return http.post(ENDPOINT, {\n    email: user.username,\n    password: user.password,\n    name: user.name,\n  });\n}\n\nexport function deleteUser(user) {}\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport * as userService from \"../services/userService\";\r\nimport auth from \"../services/authService\";\r\nimport Form from \"./common/Form\";\r\n\r\nclass RegistrationForm extends Form {\r\n  state = {\r\n    data: { username: \"\", password: \"\", name: \"\" },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    username: Joi.string().required().label(\"Username\").email(),\r\n    password: Joi.string().required().label(\"Password\").min(5),\r\n    name: Joi.string().required().label(\"Name\").min(3),\r\n  };\r\n\r\n  async doSubmit() {\r\n    try {\r\n      const response = await userService.register(this.state.data);\r\n      auth.loginWithJwt(response.headers[\"x-auth-token\"]);\r\n      window.location = \"/\";\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 400) {\r\n        const errors = { ...this.state.errors };\r\n        errors.username = error.response.data;\r\n        this.setState({ errors });\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <h1>Registration</h1>\r\n          {this.renderInputFiels(\"username\", \"Username\", true)}\r\n          {this.renderInputFiels(\"password\", \"Password\", false, \"password\")}\r\n          {this.renderInputFiels(\"name\", \"Name\")}\r\n          {this.renderSubmitButton(\"Register\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RegistrationForm;\r\n","import { useEffect } from \"react\";\r\nimport auth from \"../services/authService\";\r\n\r\nconst Logout = () => {\r\n  useEffect(() => {\r\n    auth.logout();\r\n    window.location = \"/\";\r\n  }, []);\r\n  return null;\r\n};\r\n\r\nexport default Logout;\r\n","import auth from \"../../services/authService\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, render, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (!auth.getCurrentUser())\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/login\",\r\n                state: { from: props.location.pathname },\r\n              }}\r\n            />\r\n          );\r\n        return Component ? <Component {...props} /> : render(props);\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport LoginForm from \"./components/LoginForm\";\nimport Movies from \"./components/Movies\";\nimport NotFound from \"./components/NotFound\";\nimport Customers from \"./components/Customers\";\nimport Rentals from \"./components/Rentals\";\nimport NavBar from \"./components/NavBar\";\nimport Movieform from \"./components/MovieForm\";\nimport RegistrationForm from \"./components/RegistrationForm\";\nimport Logout from \"./components/Logout\";\nimport auth from \"./services/authService\";\nimport \"./App.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ProtectedRoute from \"./components/common/ProtectedRoute\";\n\nconst App = () => {\n  const [user, setUser] = useState();\n\n  useEffect(() => {\n    setUser(auth.getCurrentUser());\n  }, []);\n\n  return (\n    <>\n      <ToastContainer />\n      <NavBar user={user} />\n      <main className=\"App container\">\n        <Switch>\n          <Route path=\"/login\" component={LoginForm}></Route>\n          <Route path=\"/logout\" component={Logout}></Route>\n          <ProtectedRoute path=\"/movies/:id\" component={Movieform} />\n          <Route\n            path=\"/movies\"\n            render={(props) => <Movies {...props} user={user} />}\n          ></Route>\n          <Route path=\"/customers\" component={Customers}></Route>\n          <Route path=\"/rentals\" component={Rentals}></Route>\n          <Route path=\"/register\" component={RegistrationForm}></Route>\n          <Route path=\"/not-found\" component={NotFound}></Route>\n          <Redirect from=\"/\" to=\"/movies\" exact></Redirect>\n          <Redirect to=\"/not-found\" />\n          {/* <Movies /> */}\n        </Switch>\n      </main>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nconsole.log(\"SUPERMAN\", process.env.REACT_APP_NAME);\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\nreportWebVitals();\n"],"sourceRoot":""}